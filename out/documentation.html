<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&amp;display=swap"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Reef Pay | Documentation</title><meta name="description" content="A payment processor built on reef"/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-9baefb654ac02b2b.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-c3229f9e3c3c6867.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c093f2b9070bcb9f.js" defer=""></script><script src="/_next/static/chunks/pages/documentation-fd7a5a362de55606.js" defer=""></script><script src="/_next/static/a2rDDaYlt7IfVWNrTa7NY/_buildManifest.js" defer=""></script><script src="/_next/static/a2rDDaYlt7IfVWNrTa7NY/_ssgManifest.js" defer=""></script><script src="/_next/static/a2rDDaYlt7IfVWNrTa7NY/_middlewareManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.3">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}/*!sc*/
article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
blockquote,q{quotes:none;}/*!sc*/
blockquote:before,blockquote:after,q:before,q:after{content:"";content:none;}/*!sc*/
table{border-collapse:collapse;border-spacing:0;}/*!sc*/
a{-webkit-text-decoration:none;text-decoration:none;padding:0;margin:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;line-height:0;}/*!sc*/
html{font-family:'Roboto',sans-serif;font-size:1em;line-height:1.5;color:#333;min-width:1024px;margin:0 auto;}/*!sc*/
body{padding:0;line-height:1.5rem;margin:0 auto;background-color:#121212;-webkit-transition:background-color 0.5s;transition:background-color 0.5s;}/*!sc*/
h1,h2,h3,h4,h5,h6{color:#2e2e35;}/*!sc*/
data-styled.g5[id="sc-global-cJaAlN1"]{content:"sc-global-cJaAlN1,"}/*!sc*/
.fNDDAk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;color:white;width:75%;max-width:900px;margin-left:3em;margin-top:2em;}/*!sc*/
data-styled.g51[id="Documentation__SDocumentation-sc-uz1qsq-0"]{content:"fNDDAk,"}/*!sc*/
.kYFQEz{margin-bottom:3em;}/*!sc*/
data-styled.g52[id="Documentation__SContainer-sc-uz1qsq-1"]{content:"kYFQEz,"}/*!sc*/
.eJzNXC{color:white;font-size:45px;margin-bottom:1em;}/*!sc*/
data-styled.g53[id="Documentation__SHeader-sc-uz1qsq-2"]{content:"eJzNXC,"}/*!sc*/
.bxwBHY{width:100%;border-radius:15px;}/*!sc*/
data-styled.g54[id="Documentation__SImg-sc-uz1qsq-3"]{content:"bxwBHY,"}/*!sc*/
.jXheRI{font-size:16px;}/*!sc*/
data-styled.g55[id="Documentation__SImgText-sc-uz1qsq-4"]{content:"jXheRI,"}/*!sc*/
.cNhUq{color:white;margin-bottom:1em;font-size:20px;line-height:1.4em;}/*!sc*/
data-styled.g56[id="Documentation__SText-sc-uz1qsq-5"]{content:"cNhUq,"}/*!sc*/
.iaMKXt{color:white;margin-bottom:4em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:90%;}/*!sc*/
data-styled.g57[id="Documentation__SContent-sc-uz1qsq-6"]{content:"iaMKXt,"}/*!sc*/
</style><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"/></head><body><div id="__next"><div><div></div><div class="Documentation__SDocumentation-sc-uz1qsq-0 fNDDAk"><h1 class="Documentation__SContainer-sc-uz1qsq-1 kYFQEz"><h1 class="Documentation__SHeader-sc-uz1qsq-2 eJzNXC">Make a payment request</h1><div class="Documentation__SText-sc-uz1qsq-5 cNhUq">To make a successful Payment Request an API Key is generated in the Settings Page of the Admin Dashboard, the API Key is sent in an X-API-KEY Header Request and a content type of JSON</div><div class="Documentation__SContent-sc-uz1qsq-6 iaMKXt"><img src="/assets/request.png" alt="" class="Documentation__SImg-sc-uz1qsq-3 bxwBHY"/><div class="Documentation__SImgText-sc-uz1qsq-4 jXheRI">Example Curl Request with X-API-KEY Header</div></div><div class="Documentation__SText-sc-uz1qsq-5 cNhUq">The payment request object sent to the API should contain four mandatory feilds. The amount feild is the price to charge the payer in reef, successUrl is the page a payer is redirect to after a successfull payment is made and cancelUrl is the page to redirect to when a payer has not made a complete payment, the callbackUrl is the url the API calls when the payment is processed</div><div class="Documentation__SContent-sc-uz1qsq-6 iaMKXt"><img src="/assets/payment request.png" alt="" class="Documentation__SImg-sc-uz1qsq-3 bxwBHY"/><div class="Documentation__SImgText-sc-uz1qsq-4 jXheRI">A Payment Request Interface</div></div></h1><h1 class="Documentation__SContainer-sc-uz1qsq-1 kYFQEz"><h1 class="Documentation__SHeader-sc-uz1qsq-2 eJzNXC">Handle a payment request response</h1><div class="Documentation__SText-sc-uz1qsq-5 cNhUq">A successful Payment Request response is sent back in JSON with feilds of url which is the payment url to redirect the user to, and a transactionId feild which is the id of the payment request to track. the url feild is time sensitve and becomes invalid after 5 minutes with webhook call event of a payment failed type.</div><div class="Documentation__SContent-sc-uz1qsq-6 iaMKXt"><img src="/assets/payment response.png" alt="" class="Documentation__SImg-sc-uz1qsq-3 bxwBHY"/><div class="Documentation__SImgText-sc-uz1qsq-4 jXheRI">A Payment Response Interface</div></div></h1><h1 class="Documentation__SContainer-sc-uz1qsq-1 kYFQEz"><h1 class="Documentation__SHeader-sc-uz1qsq-2 eJzNXC">Handle a webhook event</h1><div class="Documentation__SText-sc-uz1qsq-5 cNhUq">A webhook triger from the API is made the callbackUrl provided with each payment request, when the transaction processing is done an event is sent for each payment state.</div><div class="Documentation__SContent-sc-uz1qsq-6 iaMKXt"><img src="/assets/example express request.png" alt="" class="Documentation__SImg-sc-uz1qsq-3 bxwBHY"/><div class="Documentation__SImgText-sc-uz1qsq-4 jXheRI">Example Express App Receiving a Webhook</div></div><div class="Documentation__SText-sc-uz1qsq-5 cNhUq">The response JSON object contains an event feild which could be a list of four possible transaction states, a &quot;payment.paid.success&quot; is sent out when the payer pays the exact reef tokens specified in the payment request, a &quot;payment.overpaid.success&quot; is sent when a payer sends in excess reef tokens the balance is refunded with service fees, a &quot;payment.unpaid.failed&quot; is sent when a user fails to pay, and a &quot;payment.underpaid.failed&quot; is sent when the user makes a lower than expected payment with the money refunded with service fee. transactionId feild feild is used to identify the payment and an amount feild specifies the reef the API handled</div><div class="Documentation__SContent-sc-uz1qsq-6 iaMKXt"><img src="/assets/webhook response.png" alt="" class="Documentation__SImg-sc-uz1qsq-3 bxwBHY"/><div class="Documentation__SImgText-sc-uz1qsq-4 jXheRI">A Webhook Call Interface</div></div></h1></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/documentation","query":{},"buildId":"a2rDDaYlt7IfVWNrTa7NY","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>